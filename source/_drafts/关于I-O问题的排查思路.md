---
title: 关于I/O问题的排查思路
date: 2020-10-27 15:18:09
tags: [磁盘, I/O]
category: Linux
---

硬盘一般分为机械硬盘和固态硬盘。

* 机械硬盘的最小读写单位是扇区，一般大小为512字节
* 固态硬盘的最小读写单位是页，通常大小是4KB、8KB 等

如果每次都读写512字节单位的话，效率就很低。常见的逻辑块大小是4KB，也就是说机械硬盘连续8个扇区，或单独一个页，都可以组成一个逻辑块。

机械硬盘主要由盘片和读写磁头组成，数据就存储在盘片的环状刺刀中。在读写数据前，需要移动读写刺头，定位到数据所在的磁道，然后才能访问数据。因此连续 I/O 性能远高于随机 I/O 的

固态硬盘不需要磁道寻址，所以，不管是连续 I/O还是随机I/O的性能都比机械磁盘好很多。

其实，不论机械还是固态硬盘，相同磁盘的连续 I/O 都会比随机 I/O 快很多。

为了避免分析过程中客户端的请求结束，可以使用 curl 命令放到一个循环中执行

```shell
$ while true; do curl http://192.168.1.2:10000/get_something; done
```

